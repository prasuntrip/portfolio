<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title th:text="${post.title}">Notes Post</title>

    <!-- Meta Tags for SEO -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta th:if="${post.description}" th:attr="content=${post.description}" name="description" content="Read in-depth technical and personal development blog posts by Prasun.">
    <meta th:if="${post.title}" th:attr="content=${post.title}" name="keywords" content="Java, Spring Boot, Programming, Self-Improvement, Notes, Blog, Prasun.dev">

    <!-- Open Graph for Social Sharing -->
    <meta property="og:title" th:content="${post.title}" />
    <meta property="og:description" th:content="${post.description}" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Prasun.dev" />
    <meta property="og:image" th:content="${post.imageURL}" />
    <meta name="twitter:image" th:content="${post.imageURL}" />
    <meta property="og:image" content="/images/preview.png" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" th:content="${post.title}" />
    <meta name="twitter:description" th:content="${post.description}" />
    <meta name="twitter:image" content="/images/preview.png" />

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .glass-effect {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 0.5rem;
        }

        .gradient-text {
            background: linear-gradient(90deg, #10b981, #22d3ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-link {
            transition: color 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
            animation: fadeIn 0.8s ease forwards;
        }

        #back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: #10b981;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(16, 185, 129, 0.5);
            z-index: 50;
        }

        button:hover {
            filter: brightness(1.1);
            transition: filter 0.2s ease;
        }

        .prose-invert a {
            color: #22d3ee;
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        .prose-invert a:hover {
            color: #10b981;
        }

        @media (max-width: 768px) {
            #mobile-menu a {
                padding-left: 0;
                padding-right: 0;
            }
        }
    </style>
</head>

<body class="bg-gray-900 text-gray-100 font-sans">

<header class="fixed top-0 w-full z-50 glass-effect border-b border-slate-800/50">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <div class="text-2xl font-bold">
            <a class="gradient-text hover:brightness-110 transition duration-300">Prasun.dev</a>
        </div>

        <nav class="hidden md:flex space-x-8">
            <a th:href="@{/}" class="nav-link text-slate-300 hover:text-white transition duration-300">Home</a>
            <a th:href="@{/}" class="nav-link text-slate-300 hover:text-white transition duration-300">About</a>
            <a th:href="@{/blogs}" class="nav-link text-slate-300 hover:text-white transition duration-300">Blogs</a>
            <a th:href="@{/}" class="nav-link text-slate-300 hover:text-white transition duration-300">Projects</a>
            <a th:href="@{/}" class="nav-link text-slate-300 hover:text-white transition duration-300">Contact</a>
            <a th:href="@{/admin}" class="nav-link text-slate-300 hover:text-white transition duration-300">Admin</a>
        </nav>

        <button id="menu-toggle" class="md:hidden focus:outline-none">
            <svg id="hamburger-icon" class="w-6 h-6 text-emerald-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>
    </div>

    <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 right-0 glass-effect py-4 px-6 rounded-b-lg shadow-xl">
        <div class="flex flex-col space-y-4">
            <a th:href="@{/}" class="text-slate-300 hover:text-white transition duration-300 py-2 border-b border-slate-800/50">Home</a>
            <a th:href="@{/}" class="text-slate-300 hover:text-white transition duration-300 py-2 border-b border-slate-800/50">About</a>
            <a th:href="@{/blogs}" class="nav-link text-slate-300 hover:text-white transition duration-300">Blogs</a>
            <a th:href="@{/}" class="text-slate-300 hover:text-white transition duration-300 py-2 border-b border-slate-800/50">Projects</a>
            <a th:href="@{/}" class="text-slate-300 hover:text-white transition duration-300 py-2">Contact</a>
            <a th:href="@{/admin}" class="text-slate-300 hover:text-white transition duration-300 py-2">Admin</a>
        </div>
    </div>
</header>

<!-- Blog Post Container -->
<div class="max-w-4xl mx-auto p-6 md:p-10 mt-32 bg-gray-800 rounded-xl shadow-lg">
    <!-- Blog Image -->
    <div class="mb-6">
        <img th:src="${post.imageURL}" alt="Post Image" class="w-full h-auto object-contain rounded-lg shadow-md mx-auto" />

    </div>

    <!-- Title -->
    <h1 class="text-4xl font-bold text-white mb-4" th:text="${post.title}">Post Title</h1>

    <!-- Author Info -->
    <div class="text-sm text-gray-400 mb-2">
        <span>By </span><span class="font-medium text-gray-300" th:text="${post.author}">Author Name</span>
    </div>

    <!-- Description -->
    <p class="italic text-gray-300 mb-6" th:text="${post.description}">
        Blog short description goes here...
    </p>

    <!-- Blog Content -->
    <div class="prose prose-invert prose-lg max-w-none text-gray-100 mb-8" th:utext="${post.content}">
        Blog content here...
    </div>

    <!-- Share Buttons -->
    <div class="mt-6 flex flex-wrap gap-4">
        <button onclick="shareOnFacebook()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition duration-200">
            Share on Facebook
        </button>
        <button onclick="shareOnWhatsApp()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition duration-200">
            Share on WhatsApp
        </button>
        <button onclick="copyLink()" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 transition duration-200">
            Copy Link
        </button>
    </div>
</div>

<!-- Back to Blogs Button -->
<div class="text-center mt-10">
    <a th:href="@{/blogs}" class="inline-block bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded-md shadow-md">
        ‚Üê Back to Blogs
    </a>
</div>

<!-- Footer -->
<footer class="py-12 bg-slate-900 border-t border-slate-800/50 mt-10">
    <div class="max-w-4xl mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div class="mb-6 md:mb-0">
                <div class="text-2xl font-bold">
                    <span class="gradient-text">Prasun.dev</span>
                </div>
                <p class="text-slate-400 mt-2">Code | Grit | Discipline</p>
            </div>

            <div class="flex flex-wrap gap-6 justify-center">
                <a th:href="@{/}" class="text-slate-400 hover:text-white transition duration-300">Home</a>
                <a th:href="@{/}" class="text-slate-400 hover:text-white transition duration-300">About</a>
                <a th:href="@{/blogs}" class="text-slate-400 hover:text-white transition duration-300">Blogs</a>
                <a th:href="@{/}" class="text-slate-400 hover:text-white transition duration-300">Projects</a>
                <a th:href="@{/}" class="text-slate-400 hover:text-white transition duration-300">Contact</a>
            </div>
        </div>

        <div class="border-t border-slate-800/50 mt-8 pt-8 text-center text-slate-500">
            <p>&copy; <span id="year"></span> Prasun. All rights reserved.</p>
        </div>
    </div>
</footer>

<!-- Scripts -->
<script>
    function getCurrentUrl() {
        return window.location.href;
    }

    function shareOnFacebook() {
        const url = encodeURIComponent(getCurrentUrl());
        const fbShareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
        window.open(fbShareUrl, '_blank', 'width=600,height=400');
    }

    function shareOnWhatsApp() {
        const url = encodeURIComponent(getCurrentUrl());
        const waShareUrl = `https://api.whatsapp.com/send?text=${url}`;
        window.open(waShareUrl, '_blank');
    }

    function copyLink() {
        const url = getCurrentUrl();
        navigator.clipboard.writeText(url)
            .then(() => alert('Link copied! Paste it anywhere.'))
            .catch(() => alert('Failed to copy link.'));
    }

    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const hamburgerIcon = document.getElementById('hamburger-icon');

    menuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        hamburgerIcon.classList.toggle('text-emerald-500');
        hamburgerIcon.classList.toggle('text-white');
    });

    document.querySelectorAll('#mobile-menu a').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenu.classList.add('hidden');
            hamburgerIcon.classList.remove('text-white');
            hamburgerIcon.classList.add('text-emerald-500');
        });
    });

    const backToTopButton = document.getElementById('back-to-top');

    window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
            backToTopButton.classList.remove('opacity-0', 'invisible');
            backToTopButton.classList.add('opacity-100', 'visible');
        } else {
            backToTopButton.classList.remove('opacity-100', 'visible');
            backToTopButton.classList.add('opacity-0', 'invisible');
        }
    });

    backToTopButton?.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    document.getElementById('year').textContent = new Date().getFullYear();

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                window.scrollTo({
                    top: targetElement.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        });
    });

    const observerOptions = {
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                if (entry.target.id === 'skills') {
                    animateSkillBars();
                }
                entry.target.classList.add('animate-fadeIn');
            }
        });
    }, observerOptions);

    document.querySelectorAll('section').forEach(section => {
        observer.observe(section);
    });

    function animateSkillBars() {
        const skillBars = document.querySelectorAll('.skill-bar');
        skillBars.forEach(bar => {
            const width = bar.style.width;
            bar.style.width = '0';
            setTimeout(() => {
                bar.style.width = width;
            }, 100);
        });
    }
</script>

</body>
</html>
